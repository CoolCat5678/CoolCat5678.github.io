import{g as I,ad as p,T as C,W as E,p as P,X as ee,e as U,f as u,j as W,c as T,K as H,ae as q,t as te,a6 as ne,s as w,r as ie,E as R,a8 as re,O as se,H as ae,S as F,Z as oe,F as le,h as ue,U as ce}from"./index-D7yRkabf.js";import{u as de,m as fe}from"./VContainer-BoK-e7My.js";import{u as ve,c as ge,m as me}from"./VBtn-jmrkFDDM.js";const ye=P({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function g(e,l,r){return I()({name:e,props:ye({mode:r,origin:l}),setup(n,d){let{slots:c}=d;const t={onBeforeEnter(i){n.origin&&(i.style.transformOrigin=n.origin)},onLeave(i){if(n.leaveAbsolute){const{offsetTop:m,offsetLeft:a,offsetWidth:o,offsetHeight:v}=i;i._transitionInitialStyles={position:i.style.position,top:i.style.top,left:i.style.left,width:i.style.width,height:i.style.height},i.style.position="absolute",i.style.top=`${m}px`,i.style.left=`${a}px`,i.style.width=`${o}px`,i.style.height=`${v}px`}n.hideOnLeave&&i.style.setProperty("display","none","important")},onAfterLeave(i){if(n.leaveAbsolute&&(i!=null&&i._transitionInitialStyles)){const{position:m,top:a,left:o,width:v,height:S}=i._transitionInitialStyles;delete i._transitionInitialStyles,i.style.position=m||"",i.style.top=a||"",i.style.left=o||"",i.style.width=v||"",i.style.height=S||""}}};return()=>{const i=n.group?p:C;return E(i,{name:n.disabled?"":e,css:!n.disabled,...n.group?void 0:{mode:n.mode},...n.disabled?{}:t},c.default)}}})}function D(e,l){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return I()({name:e,props:{mode:{type:String,default:r},disabled:Boolean,group:Boolean},setup(n,d){let{slots:c}=d;const t=n.group?p:C;return()=>E(t,{name:n.disabled?"":e,css:!n.disabled,...n.disabled?{}:l},c.default)}})}function M(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",n=ee(`offset-${r}`);return{onBeforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[r]:t.style[r]}},onEnter(t){const i=t._initialStyle;if(!i)return;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";const m=`${t[n]}px`;t.style[r]="0",t.offsetHeight,t.style.transition=i.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame(()=>{t.style[r]=m})},onAfterEnter:c,onEnterCancelled:c,onLeave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[r]:t.style[r]},t.style.overflow="hidden",t.style[r]=`${t[n]}px`,t.offsetHeight,requestAnimationFrame(()=>t.style[r]="0")},onAfterLeave:d,onLeaveCancelled:d};function d(t){e&&t._parent&&t._parent.classList.remove(e),c(t)}function c(t){if(!t._initialStyle)return;const i=t._initialStyle[r];t.style.overflow=t._initialStyle.overflow,i!=null&&(t.style[r]=i),delete t._initialStyle}}g("fab-transition","center center","out-in");g("dialog-bottom-transition");g("dialog-top-transition");g("fade-transition");g("scale-transition");g("scroll-x-transition");g("scroll-x-reverse-transition");g("scroll-y-transition");g("scroll-y-reverse-transition");g("slide-x-transition");g("slide-x-reverse-transition");const Pe=g("slide-y-transition");g("slide-y-reverse-transition");const ze=D("expand-transition",M()),Be=D("expand-x-transition",M("",!0));function Se(e){return{aspectStyles:T(()=>{const l=Number(e.aspectRatio);return l?{paddingBottom:String(1/l*100)+"%"}:void 0})}}const G=P({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...W(),...fe()},"VResponsive"),N=I()({name:"VResponsive",props:G(),setup(e,l){let{slots:r}=l;const{aspectStyles:n}=Se(e),{dimensionStyles:d}=de(e);return U(()=>{var c;return u("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[d.value,e.style]},[u("div",{class:"v-responsive__sizer",style:n.value},null),(c=r.additional)==null?void 0:c.call(r),r.default&&u("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])}),{}}}),he=P({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),x=(e,l)=>{let{slots:r}=l;const{transition:n,disabled:d,group:c,...t}=e,{component:i=c?p:C,...m}=typeof n=="object"?n:{};return E(i,H(typeof n=="string"?{name:d?"":n}:m,typeof n=="string"?{}:Object.fromEntries(Object.entries({disabled:d,group:c}).filter(a=>{let[o,v]=a;return v!==void 0})),t),r)};function _e(e,l){if(!q)return;const r=l.modifiers||{},n=l.value,{handler:d,options:c}=typeof n=="object"?n:{handler:n,options:{}},t=new IntersectionObserver(function(){var v;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1?arguments[1]:void 0;const a=(v=e._observe)==null?void 0:v[l.instance.$.uid];if(!a)return;const o=i.some(S=>S.isIntersecting);d&&(!r.quiet||a.init)&&(!r.once||o||a.init)&&d(o,i,m),o&&r.once?X(e,l):a.init=!0},c);e._observe=Object(e._observe),e._observe[l.instance.$.uid]={init:!1,observer:t},t.observe(e)}function X(e,l){var n;const r=(n=e._observe)==null?void 0:n[l.instance.$.uid];r&&(r.observer.unobserve(e),delete e._observe[l.instance.$.uid])}const be={mounted:_e,unmounted:X},we=P({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...G(),...W(),...me(),...he()},"VImg"),Re=I()({name:"VImg",directives:{intersect:be},props:we(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,l){let{emit:r,slots:n}=l;const{backgroundColorClasses:d,backgroundColorStyles:c}=ve(te(e,"color")),{roundedClasses:t}=ge(e),i=ne("VImg"),m=w(""),a=ie(),o=w(e.eager?"loading":"idle"),v=w(),S=w(),y=T(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),_=T(()=>y.value.aspect||v.value/S.value||0);R(()=>e.src,()=>{z(o.value!=="idle")}),R(_,(s,f)=>{!s&&f&&a.value&&b(a.value)}),re(()=>z());function z(s){if(!(e.eager&&s)&&!(q&&!s&&!e.eager)){if(o.value="loading",y.value.lazySrc){const f=new Image;f.src=y.value.lazySrc,b(f,null)}y.value.src&&se(()=>{var f;r("loadstart",((f=a.value)==null?void 0:f.currentSrc)||y.value.src),setTimeout(()=>{var h;if(!i.isUnmounted)if((h=a.value)!=null&&h.complete){if(a.value.naturalWidth||O(),o.value==="error")return;_.value||b(a.value,null),o.value==="loading"&&V()}else _.value||b(a.value),$()})})}}function V(){var s;i.isUnmounted||($(),b(a.value),o.value="loaded",r("load",((s=a.value)==null?void 0:s.currentSrc)||y.value.src))}function O(){var s;i.isUnmounted||(o.value="error",r("error",((s=a.value)==null?void 0:s.currentSrc)||y.value.src))}function $(){const s=a.value;s&&(m.value=s.currentSrc||s.src)}let B=-1;ae(()=>{clearTimeout(B)});function b(s){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const h=()=>{if(clearTimeout(B),i.isUnmounted)return;const{naturalHeight:L,naturalWidth:A}=s;L||A?(v.value=A,S.value=L):!s.complete&&o.value==="loading"&&f!=null?B=window.setTimeout(h,f):(s.currentSrc.endsWith(".svg")||s.currentSrc.startsWith("data:image/svg+xml"))&&(v.value=1,S.value=1)};h()}const j=T(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),J=()=>{var h;if(!y.value.src||o.value==="idle")return null;const s=u("img",{class:["v-img__img",j.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:y.value.src,srcset:y.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:a,onLoad:V,onError:O},null),f=(h=n.sources)==null?void 0:h.call(n);return u(x,{transition:e.transition,appear:!0},{default:()=>[F(f?u("picture",{class:"v-img__picture"},[f,s]):s,[[ce,o.value==="loaded"]])]})},K=()=>u(x,{transition:e.transition},{default:()=>[y.value.lazySrc&&o.value!=="loaded"&&u("img",{class:["v-img__img","v-img__img--preload",j.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:y.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),Y=()=>n.placeholder?u(x,{transition:e.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!n.error)&&u("div",{class:"v-img__placeholder"},[n.placeholder()])]}):null,Z=()=>n.error?u(x,{transition:e.transition,appear:!0},{default:()=>[o.value==="error"&&u("div",{class:"v-img__error"},[n.error()])]}):null,Q=()=>e.gradient?u("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,k=w(!1);{const s=R(_,f=>{f&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{k.value=!0})}),s())})}return U(()=>{const s=N.filterProps(e);return F(u(N,H({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!k.value},d.value,t.value,e.class],style:[{width:ue(e.width==="auto"?v.value:e.width)},c.value,e.style]},s,{aspectRatio:_.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>u(le,null,[u(J,null,null),u(K,null,null),u(Q,null,null),u(Y,null,null),u(Z,null,null)]),default:n.default}),[[oe("intersect"),{handler:z,options:e.options},null,{once:!0}]])}),{currentSrc:m,image:a,state:o,naturalWidth:v,naturalHeight:S}}});export{be as I,x as M,Re as V,ze as a,Pe as b,Be as c,he as m};
